<script>
  import SomeComponent from 'sfc:./some.htm'
  import emit from 'sfc:emit'

  const props = await import('sfc:props')

  const name = 'static name'
  let age = 10

  let some = {
    name: 'name',
  }

  function grow(e) {
    age ++
    emit('grow', age)
  }

  const colors = [
    '#fee',
    '#ccd',
    '#a97',
  ]
</script>

<style>
  .age {
    color: ('colors[age % 3]');
  }

  @fns {
    some(color, age) {
      color: [[color]];
      font-size: [[age]]px;
    }
  }

  @if age % 5 === 0 && age > 10 {
    .age {
      font-size: 24px;
      fns: some(red, [[age]]);
    }
  }
  @else {
    .age {
      font-size: 12px;
    }
  }

  @for color,index of colors {
    .age-[[index + 10]] {
      color: [[color]];
    }
  }
</style>

<div class="app">
  <h3>{{props.title}}</h3>
  <span>{{name}}:</span>
  <span
    class="age"
    :class="'age-' + age"
    :style="age / 3 > 10 ? 'color: red;' : undefined"
  >{{age}}</span>
  <button onclick="grow(event)">grow</button>
  <some-component
    name="xxx"
    :some-attr="age * 5 > 10 ? 'ok' : undefined"
  ></some-component>
</div>
