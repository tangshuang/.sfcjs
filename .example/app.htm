<script>
  import SomeComponent from 'sfc:./some.htm';
  import emit from 'sfc:emit';

  const props = await import('sfc:props');

  const name = 'static name';
  let age = 10;

  let some = {
    name: 'name',
    height: age * 50,
  };

  function grow(e) {
    age = age + 1;
    emit('grow', age);
  }

  const colors = [
    '#fee',
    '#ccd',
    '#a97',
  ];
</script>

<style>
  .name {
    color: #ffe;
  }
  .age {
    color: ('{{ colors[age % 3] }}');
  }

  @fns {
    some(color, age) {
      outline: none;
      color: [[color]];
      font-size: [[age]]px;
    }
  }

  @if [[age % 5 === 0 && age > 10]] {
    .age {
      font-size: 24px;
      fns: some(red, [[age]]), some(red, age);
    }
  }
  @else {
    .age {
      font-size: 12px;
    }
  }

  @for color,index of colors {
    .age-[[index + 10]] {
      color: [[color]];
    }
  }
</style>

<div class="app">
  <h3>{{props.title}}</h3>
  <span>{{name}}:</span>
  <span
    class="age"
    :class="'age-' + age"
    :style="age / 3 > 10 ? 'color: red;' : undefined"
    (if)="age > 10"
  >{{age}}</span>
  <span (repeat)="color,index of colors">
    <i>{{index}}: {{color}}</i>
  </span>
  <button @click="grow(event)">grow</button>
  <some-component
    name="xxx"
    :some-attr="age * 5 > 10 ? 'ok' : undefined"
  ></some-component>
</div>
